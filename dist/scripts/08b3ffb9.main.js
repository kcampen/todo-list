var todoList=[{description:"wake up",done:!1,id:_.uniqueId("todo")},{description:"eat pizza",done:!1,id:_.uniqueId("todo")}];todoListArray=[];var todoTemplate=_.template($(".todo-template").text());console.log("ran template"),_.each(todoList,function(a){$(".todo-items").prepend(todoTemplate(a))}),$(".js-add-todo").on("click",function(){if(""===$(".js-new-todo-input").val())throw new Error("Error");console.log("adding item to list");var a=$(".js-new-todo-input").val(),b={description:a,done:!1,id:_.uniqueId("todo")},c=todoTemplate(b);todoList.push(b),todoListArray.push(b),$(".todo-items").prepend(c),+todoList.length,$(".todotracker > .num").text(todoList.length)}),$(".todo-items").on("click",".js-delete-todo",function(){var a=$(this).parents(".todo-item").attr("id");console.log("Here is",a),todoList=_.reject(todoList,function(b){return b.id===a}),+todoList.length,$(".todotracker > .num").text(todoList.length),$(this).parents(".todo-item").remove()}),$(".todo-items").on("click",".js-check-todo",function(){$(this).siblings(".description").toggleClass("complete")}),$(".todo-items").on("click",".js-edit-todo",function(){$(this).siblings(".description").find(".inputbox").removeClass("hidden");var a=$(this).siblings(".description").find(".description-text").text();console.log("text is",a),$(this).children(".inputbox").val(a),$(this).siblings().children(".inputbox").focus()}),$(".todo-items").on("blur",".inputbox",function(){var a=$(this).val();console.log(a);var b=$(this).parent().parent().attr("id");console.log(b),_.each(todoList,function(c){c.id===b&&(console.log(c),c.description=a,console.log(c))}),$(this).parent(".description").empty().html(a)});